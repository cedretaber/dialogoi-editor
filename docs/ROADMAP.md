# Dialogoi Editor ロードマップ

## 開発フェーズ

### 🚀 Phase 1: MVP (Minimum Viable Product) ✅ **完了**
**目標**: 基本的なファイル管理機能を持つExtensionの実装

- [x] VSCode Extension の基本構造構築
- [x] TreeView による小説構造の表示
- [x] `meta.yaml` の読み書き機能
- [x] ファイルの作成・削除・並び替え
- [x] 基本的なアイコン表示（本文/設定の区別）

**追加実装された機能**:
- [x] ディレクトリクリックでREADME.md表示
- [x] ファイル名変更機能
- [x] 自動拡張子付与（.txt/.md）
- [x] 選択中のディレクトリでのファイル作成
- [x] 包括的なテストスイート
- [x] サンプル小説プロジェクト

### 📝 Phase 2: メタデータ管理強化 🔄 **進行中**
**目標**: 小説執筆に必要なメタデータ管理機能の充実

- [x] タグシステムの実装
- [x] 参照関係（references）の管理
- [x] ファイルハッシュによる変更検知システム
- [x] レビュー機能の基本実装
- [ ] キャラクター設定の専用UI
- [ ] 用語集の専用UI
- [ ] 伏線管理機能（start/goal）
- [ ] `dialogoi.yaml` の仕様策定と実装

**Phase 2a 完了済み機能**:
- [x] ファイル・ディレクトリへのタグ付与
- [x] コンテキストメニューからのタグ編集
- [x] TreeViewでのタグ表示（#タグ形式）
- [x] 参照関係の双方向管理（Mapベース）
- [x] ツールチップでの参照関係表示
- [x] 存在しないファイルへの参照検出
- [x] 包括的なテストスイート（タグ・参照機能）

**Phase 2b 完了済み機能**:
- [x] SHA-256ハッシュによるファイル変更検知システム
- [x] レビュー機能の実装（basic）
  - [x] レビュー追加・編集・削除
  - [x] レビューファイル（_reviews.yaml）の管理
  - [x] レビューステータス管理（open/in_progress/resolved/dismissed）
  - [x] スレッド形式での議論機能
  - [x] VSCode UI統合（コンテキストメニュー）
  - [x] 包括的なテストスイート（レビュー機能）

### 🎨 Phase 3: UI/UX改善
**目標**: より使いやすいインターフェースの提供

- [ ] WebView による詳細設定画面
- [ ] ドラッグ&ドロップでの並び替え改善
- [ ] 検索・フィルタリング機能
- [ ] コンテキストメニューの充実
- [ ] キーボードショートカットの実装
- [ ] 多言語対応（日本語優先）

### 🔍 Phase 4: 高度な分析機能
**目標**: 執筆支援のための分析・可視化機能

- [ ] 伏線の可視化（タイムライン表示）
- [ ] キャラクター相関図
- [ ] 話数ごとの登場人物追跡
- [ ] 参照関係のグラフ表示
- [ ] 執筆統計（文字数、更新頻度等）

## 将来的な機能拡張

### 📖 執筆支援機能

1. **プレビュー機能**
   - 青空文庫形式の解釈
   - 縦書き表示対応
   - リアルタイムプレビュー

2. **PDF出力機能**
   - 印刷用レイアウト
   - 電子書籍形式への変換
   - カスタムスタイルシート対応

3. **タイムライン機能**
   - 作品内時系列の可視化
   - 矛盾検出機能
   - 読者視点での伏線タイムライン

4. **バージョン管理連携**
   - Git統合の強化
   - 変更履歴の可視化
   - 共同執筆サポート

### 🤖 AI連携機能

1. **Dialogoi MCP サーバ連携**
   - キャラクター設定に基づく対話生成
   - 設定の一貫性チェック
   - プロット提案機能

2. **執筆アシスタント**
   - 文章校正機能
   - 類語・表現提案
   - スタイル統一チェック

### 📊 分析・管理機能

1. **プロジェクト管理**
   - 執筆スケジュール管理
   - 進捗トラッキング
   - 目標設定機能

2. **テンプレート機能**
   - プロジェクトテンプレート
   - キャラクターシートテンプレート
   - ジャンル別構成テンプレート

3. **エクスポート/インポート**
   - 他の執筆ツールとの連携
   - バックアップ機能
   - クラウド同期

### 🤝 コラボレーション機能

1. **レビュー管理システム** *(Phase 2b で基本機能実装済み)*
   - [x] 編集者からのフィードバック管理
   - [x] レビューの位置追跡とハッシュによる変更検知
   - [x] スレッド形式での議論機能
   - [x] ステータス管理（open/in_progress/resolved/dismissed）
   - [ ] AIレビューの統合（Dialogoi MCP連携）

2. **共同執筆サポート**
   - 複数人での同時編集対応
   - 変更履歴の可視化
   - コンフリクト解決支援

## 技術的改善

### パフォーマンス最適化
- 大規模プロジェクト対応（1000話以上）
- インクリメンタル更新
- 遅延読み込み

### 品質向上
- 自動テストの充実
- エラーハンドリング改善
- ユーザビリティテスト

### 拡張性
- プラグインシステム
- カスタムメタデータ対応
- API公開

## コミュニティ機能（長期構想）

- 作品共有プラットフォーム
- 執筆テクニック共有
- ユーザーフォーラム
- 公式テンプレート配布

---

**注**: このロードマップは現時点での構想であり、ユーザーフィードバックや技術的制約により変更される可能性があります。